ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"spi-board.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SpiInit,"ax",%progbits
  18              		.align	1
  19              		.global	SpiInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	SpiInit:
  27              	.LVL0:
  28              	.LFB132:
  29              		.file 1 "Drivers/sx126x/boards/NucleoL476/spi-board.c"
   1:Drivers/sx126x/boards/NucleoL476/spi-board.c **** /*!
   2:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  * \file      spi-board.c
   3:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *
   4:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  * \brief     Target board SPI driver implementation
   5:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *
   6:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  * \copyright Revised BSD License, see section \ref LICENSE.
   7:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *
   8:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  * \code
   9:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *                ______                              _
  10:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *               / _____)             _              | |
  11:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *              ( (____  _____ ____ _| |_ _____  ____| |__
  12:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *               \____ \| ___ |    (_   _) ___ |/ ___)  _ \
  13:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *               _____) ) ____| | | || |_| ____( (___| | | |
  14:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *              (______/|_____)_|_|_| \__)_____)\____)_| |_|
  15:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *              (C)2013-2017 Semtech
  16:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *
  17:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  * \endcode
  18:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *
  19:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  * \author    Miguel Luis ( Semtech )
  20:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  *
  21:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  * \author    Gregory Cristian ( Semtech )
  22:Drivers/sx126x/boards/NucleoL476/spi-board.c ****  */
  23:Drivers/sx126x/boards/NucleoL476/spi-board.c **** #include "stm32l4xx.h"
  24:Drivers/sx126x/boards/NucleoL476/spi-board.c **** #include "utilities.h"
  25:Drivers/sx126x/boards/NucleoL476/spi-board.c **** #include "board.h"
  26:Drivers/sx126x/boards/NucleoL476/spi-board.c **** #include "gpio.h"
  27:Drivers/sx126x/boards/NucleoL476/spi-board.c **** #include "spi-board.h"
  28:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  29:Drivers/sx126x/boards/NucleoL476/spi-board.c **** static SPI_HandleTypeDef SpiHandle[2];
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s 			page 2


  30:Drivers/sx126x/boards/NucleoL476/spi-board.c **** extern SPI_HandleTypeDef hspi1;
  31:Drivers/sx126x/boards/NucleoL476/spi-board.c **** void SpiInit( Spi_t *obj, SpiId_t spiId, PinNames mosi, PinNames miso, PinNames sclk, PinNames nss 
  32:Drivers/sx126x/boards/NucleoL476/spi-board.c **** {
  30              		.loc 1 32 1 view -0
  31              		.cfi_startproc
  32              		@ args = 8, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 32 1 is_stmt 0 view .LVU1
  35 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 20
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 83B0     		sub	sp, sp, #12
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 32
  46 0004 0546     		mov	r5, r0
  47 0006 1146     		mov	r1, r2
  48              	.LVL1:
  49              		.loc 1 32 1 view .LVU2
  50 0008 1F46     		mov	r7, r3
  33:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // CRITICAL_SECTION_BEGIN( );
  34:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  35:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // obj->SpiId = spiId;
  36:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  37:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // if( spiId == SPI_1 )
  38:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // {
  39:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     __HAL_RCC_SPI1_FORCE_RESET( );
  40:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     __HAL_RCC_SPI1_RELEASE_RESET( );
  41:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     __HAL_RCC_SPI1_CLK_ENABLE( );
  42:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  43:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     SpiHandle[spiId].Instance = ( SPI_TypeDef* )SPI1_BASE;
  44:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  45:Drivers/sx126x/boards/NucleoL476/spi-board.c ****         // GpioInit( &obj->Mosi, mosi, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_DOWN, GPIO_AF5_SP
  46:Drivers/sx126x/boards/NucleoL476/spi-board.c ****         // GpioInit( &obj->Miso, miso, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_DOWN, GPIO_AF5_SP
  47:Drivers/sx126x/boards/NucleoL476/spi-board.c ****         // GpioInit( &obj->Sclk, sclk, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_DOWN, GPIO_AF5_SP
  48:Drivers/sx126x/boards/NucleoL476/spi-board.c ****         // GpioInit( &obj->Nss, nss, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_UP, GPIO_AF5_SPI1 )
  49:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  50:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     GpioInit(&obj->Mosi, mosi, PIN_OUTPUT, PIN_PUSH_PULL, PIN_PULL_DOWN, 0);
  51              		.loc 1 50 5 is_stmt 1 view .LVU3
  52 000a 0024     		movs	r4, #0
  53 000c 0194     		str	r4, [sp, #4]
  54 000e 0226     		movs	r6, #2
  55 0010 0096     		str	r6, [sp]
  56 0012 2346     		mov	r3, r4
  57              	.LVL2:
  58              		.loc 1 50 5 is_stmt 0 view .LVU4
  59 0014 0122     		movs	r2, #1
  60              	.LVL3:
  61              		.loc 1 50 5 view .LVU5
  62 0016 0430     		adds	r0, r0, #4
  63              	.LVL4:
  64              		.loc 1 50 5 view .LVU6
  65 0018 FFF7FEFF 		bl	GpioInit
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s 			page 3


  66              	.LVL5:
  51:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     GpioInit(&obj->Miso, miso, PIN_OUTPUT, PIN_PUSH_PULL, PIN_PULL_DOWN, 0);
  67              		.loc 1 51 5 is_stmt 1 view .LVU7
  68 001c 0194     		str	r4, [sp, #4]
  69 001e 0096     		str	r6, [sp]
  70 0020 2346     		mov	r3, r4
  71 0022 0122     		movs	r2, #1
  72 0024 3946     		mov	r1, r7
  73 0026 05F11800 		add	r0, r5, #24
  74 002a FFF7FEFF 		bl	GpioInit
  75              	.LVL6:
  52:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     GpioInit(&obj->Sclk, sclk, PIN_OUTPUT, PIN_PUSH_PULL, PIN_PULL_DOWN, 0);
  76              		.loc 1 52 5 view .LVU8
  77 002e 0194     		str	r4, [sp, #4]
  78 0030 0096     		str	r6, [sp]
  79 0032 2346     		mov	r3, r4
  80 0034 0122     		movs	r2, #1
  81 0036 9DF92010 		ldrsb	r1, [sp, #32]
  82 003a 05F12C00 		add	r0, r5, #44
  83 003e FFF7FEFF 		bl	GpioInit
  84              	.LVL7:
  53:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  54:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // }
  55:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // else
  56:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // {
  57:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     __HAL_RCC_SPI2_FORCE_RESET( );
  58:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     __HAL_RCC_SPI2_RELEASE_RESET( );
  59:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     __HAL_RCC_SPI2_CLK_ENABLE( );
  60:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  61:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     SpiHandle[spiId].Instance = ( SPI_TypeDef* )SPI2_BASE;
  62:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  63:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     GpioInit( &obj->Mosi, mosi, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_DOWN, GPIO_AF5_SP
  64:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     GpioInit( &obj->Miso, miso, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_DOWN, GPIO_AF5_SP
  65:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     GpioInit( &obj->Sclk, sclk, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_DOWN, GPIO_AF5_SP
  66:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     GpioInit( &obj->Nss, nss, PIN_ALTERNATE_FCT, PIN_PUSH_PULL, PIN_PULL_UP, GPIO_AF5_SPI2 )
  67:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // }
  68:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  69:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // if( nss == NC )
  70:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // {
  71:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     SpiHandle[spiId].Init.NSS = SPI_NSS_SOFT;
  72:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     SpiFormat( obj, 8, SPI_POLARITY_LOW, SPI_PHASE_1EDGE, 0 );
  73:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // }
  74:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // else
  75:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // {
  76:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     //     SpiFormat( obj, 8, SPI_POLARITY_LOW, SPI_PHASE_1EDGE, 1 );
  77:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // }
  78:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // SpiFrequency( obj, 10000000 );
  79:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  80:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // HAL_SPI_Init( &SpiHandle[spiId] );
  81:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  82:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     // CRITICAL_SECTION_END( );
  83:Drivers/sx126x/boards/NucleoL476/spi-board.c **** }
  85              		.loc 1 83 1 is_stmt 0 view .LVU9
  86 0042 03B0     		add	sp, sp, #12
  87              	.LCFI2:
  88              		.cfi_def_cfa_offset 20
  89              		@ sp needed
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s 			page 4


  90 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
  91              		.loc 1 83 1 view .LVU10
  92              		.cfi_endproc
  93              	.LFE132:
  95              		.section	.text.SpiInOut,"ax",%progbits
  96              		.align	1
  97              		.global	SpiInOut
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv4-sp-d16
 103              	SpiInOut:
 104              	.LVL8:
 105              	.LFB133:
  84:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  85:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // void SpiDeInit( Spi_t *obj )
  86:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // {
  87:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     HAL_SPI_DeInit( &SpiHandle[obj->SpiId] );
  88:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  89:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     GpioInit( &obj->Mosi, obj->Mosi.pin, PIN_OUTPUT, PIN_PUSH_PULL, PIN_NO_PULL, 0 );
  90:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     GpioInit( &obj->Miso, obj->Miso.pin, PIN_OUTPUT, PIN_PUSH_PULL, PIN_PULL_DOWN, 0 );
  91:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     GpioInit( &obj->Sclk, obj->Sclk.pin, PIN_OUTPUT, PIN_PUSH_PULL, PIN_NO_PULL, 0 );
  92:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     GpioInit( &obj->Nss, obj->Nss.pin, PIN_OUTPUT, PIN_PUSH_PULL, PIN_PULL_UP, 1 );
  93:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // }
  94:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
  95:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // void SpiFormat( Spi_t *obj, int8_t bits, int8_t cpol, int8_t cpha, int8_t slave )
  96:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // {
  97:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.Direction = SPI_DIRECTION_2LINES;
  98:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     if( bits == 8 )
  99:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     {
 100:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         SpiHandle[obj->SpiId].Init.DataSize = SPI_DATASIZE_8BIT;
 101:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     }
 102:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     else
 103:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     {
 104:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         SpiHandle[obj->SpiId].Init.DataSize = SPI_DATASIZE_16BIT;
 105:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     }
 106:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.CLKPolarity = cpol;
 107:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.CLKPhase = cpha;
 108:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.FirstBit = SPI_FIRSTBIT_MSB;
 109:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.TIMode = SPI_TIMODE_DISABLE;
 110:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 111:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.CRCPolynomial = 7;
 112:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 113:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     if( slave == 0 )
 114:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     {
 115:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         SpiHandle[obj->SpiId].Init.Mode = SPI_MODE_MASTER;
 116:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     }
 117:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     else
 118:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     {
 119:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         SpiHandle[obj->SpiId].Init.Mode = SPI_MODE_SLAVE;
 120:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     }
 121:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // }
 122:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 123:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // void SpiFrequency( Spi_t *obj, uint32_t hz )
 124:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // {
 125:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     uint32_t divisor = 0;
 126:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     uint32_t sysClkTmp = SystemCoreClock;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s 			page 5


 127:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     uint32_t baudRate;
 128:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 129:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     while( sysClkTmp > hz )
 130:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     {
 131:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         divisor++;
 132:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         sysClkTmp = ( sysClkTmp >> 1 );
 133:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 134:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         if( divisor >= 7 )
 135:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         {
 136:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //             break;
 137:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //         }
 138:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     }
 139:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 140:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     baudRate =( ( ( divisor & 0x4 ) == 0 ) ? 0x0 : SPI_CR1_BR_2 ) |
 141:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //               ( ( ( divisor & 0x2 ) == 0 ) ? 0x0 : SPI_CR1_BR_1 ) |
 142:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //               ( ( ( divisor & 0x1 ) == 0 ) ? 0x0 : SPI_CR1_BR_0 );
 143:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 144:Drivers/sx126x/boards/NucleoL476/spi-board.c **** //     SpiHandle[obj->SpiId].Init.BaudRatePrescaler = baudRate;
 145:Drivers/sx126x/boards/NucleoL476/spi-board.c **** // }
 146:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 147:Drivers/sx126x/boards/NucleoL476/spi-board.c **** uint16_t SpiInOut( Spi_t *obj, uint16_t outData )
 148:Drivers/sx126x/boards/NucleoL476/spi-board.c **** {
 106              		.loc 1 148 1 is_stmt 1 view -0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 16
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110              		.loc 1 148 1 is_stmt 0 view .LVU12
 111 0000 00B5     		push	{lr}
 112              	.LCFI3:
 113              		.cfi_def_cfa_offset 4
 114              		.cfi_offset 14, -4
 115 0002 87B0     		sub	sp, sp, #28
 116              	.LCFI4:
 117              		.cfi_def_cfa_offset 32
 118 0004 ADF80E10 		strh	r1, [sp, #14]	@ movhi
 149:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     uint8_t rxData = 0;
 119              		.loc 1 149 5 is_stmt 1 view .LVU13
 120              		.loc 1 149 13 is_stmt 0 view .LVU14
 121 0008 0023     		movs	r3, #0
 122 000a 8DF81730 		strb	r3, [sp, #23]
 150:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 151:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     if( ( obj == NULL ) || ( SpiHandle[obj->SpiId].Instance ) == NULL )
 123              		.loc 1 151 5 is_stmt 1 view .LVU15
 152:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     {
 153:Drivers/sx126x/boards/NucleoL476/spi-board.c ****         assert_param( LMN_STATUS_ERROR );
 124              		.loc 1 153 9 view .LVU16
 154:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     }
 155:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 156:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     __HAL_SPI_ENABLE( &hspi1 );
 125              		.loc 1 156 5 view .LVU17
 126 000e 0A48     		ldr	r0, .L5
 127              	.LVL9:
 128              		.loc 1 156 5 is_stmt 0 view .LVU18
 129 0010 0268     		ldr	r2, [r0]
 130 0012 1368     		ldr	r3, [r2]
 131 0014 43F04003 		orr	r3, r3, #64
 132 0018 1360     		str	r3, [r2]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s 			page 6


 157:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 158:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     CRITICAL_SECTION_BEGIN( );
 133              		.loc 1 158 30 is_stmt 1 view .LVU19
 159:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 160:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     HAL_SPI_TransmitReceive( &hspi1, ( uint8_t* )&outData, &rxData, 1, HAL_MAX_DELAY );
 134              		.loc 1 160 5 view .LVU20
 135 001a 4FF0FF33 		mov	r3, #-1
 136 001e 0093     		str	r3, [sp]
 137 0020 0123     		movs	r3, #1
 138 0022 0DF11702 		add	r2, sp, #23
 139 0026 0DF10E01 		add	r1, sp, #14
 140              	.LVL10:
 141              		.loc 1 160 5 is_stmt 0 view .LVU21
 142 002a FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 143              	.LVL11:
 161:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 162:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     CRITICAL_SECTION_END( );
 144              		.loc 1 162 28 is_stmt 1 view .LVU22
 163:Drivers/sx126x/boards/NucleoL476/spi-board.c **** 
 164:Drivers/sx126x/boards/NucleoL476/spi-board.c ****     return( rxData );
 145              		.loc 1 164 5 view .LVU23
 165:Drivers/sx126x/boards/NucleoL476/spi-board.c **** }
 146              		.loc 1 165 1 is_stmt 0 view .LVU24
 147 002e 9DF81700 		ldrb	r0, [sp, #23]	@ zero_extendqisi2
 148 0032 07B0     		add	sp, sp, #28
 149              	.LCFI5:
 150              		.cfi_def_cfa_offset 4
 151              		@ sp needed
 152 0034 5DF804FB 		ldr	pc, [sp], #4
 153              	.L6:
 154              		.align	2
 155              	.L5:
 156 0038 00000000 		.word	hspi1
 157              		.cfi_endproc
 158              	.LFE133:
 160              		.text
 161              	.Letext0:
 162              		.file 2 "c:\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\machine\\_defau
 163              		.file 3 "c:\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 164              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l476xx.h"
 165              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 166              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 167              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h"
 168              		.file 8 "Drivers/sx126x/system/gpio.h"
 169              		.file 9 "Drivers/sx126x/system/spi.h"
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 spi-board.c
C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s:18     .text.SpiInit:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s:26     .text.SpiInit:00000000 SpiInit
C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s:96     .text.SpiInOut:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s:103    .text.SpiInOut:00000000 SpiInOut
C:\Users\andywei\AppData\Local\Temp\ccqy1hQM.s:156    .text.SpiInOut:00000038 $d

UNDEFINED SYMBOLS
GpioInit
HAL_SPI_TransmitReceive
hspi1
